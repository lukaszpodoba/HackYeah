<section class="flex-1 flex flex-col items-center gap-4">
  <div class="mt-4">
    <h2 class="text-body-large-bold">Ulubione linie</h2>
    <p class="text-body-regular text-muted-foreground">
      Śledź zgłoszenia na swoich ulubionych trasach
    </p>
  </div>

  <div class="flex flex-col gap-3 p-4">
    @for (line of lines(); track line.line_id) {
    <div class="border rounded-xl bg-white">
      <button
        type="button"
        class="w-full flex items-center justify-between gap-4 p-3 hover:bg-muted/50 rounded-xl text-left"
      >
        <div class="flex items-center gap-2">
          <span class="inline-block px-2 py-0.5 rounded-md border text-xs font-medium">
            Linia: {{ line.line_id }}
          </span>
        </div>

        <div class="flex items-center gap-3">
          <span class="text-xs bg-muted px-2 py-1 rounded-md">
            {{ line.forms.length }} zgłoszeń
          </span>

          <button
            mat-button
            color="warn"
            class="!min-h-0 !py-1 !px-2"
            (click)="$event.stopPropagation(); remove(line.line_id)"
          >
            <mat-icon class="!w-4 !h-4">delete</mat-icon>
            <span class="text-xs">Usuń z ulubionych</span>
          </button>

          <mat-icon class="transition-transform"> expand_more </mat-icon>
        </div>
      </button>

      @if (line) {
      <div class="p-3 pt-0">
        @if (line.forms.length) {
        <div class="flex flex-col gap-3">
          @for (r of line.forms; track r.id) {
          <app-feed-card-component [report]="r" (vote)="onVote($event)"></app-feed-card-component>
          }
        </div>
        } @else {
        <div class="p-4 text-sm text-muted-foreground">Brak zgłoszeń dla tej linii.</div>
        }
      </div>
      }
    </div>
    }
  </div>
</section>

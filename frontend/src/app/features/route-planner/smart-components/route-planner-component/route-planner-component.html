<div class="max-w-5xl mx-auto p-5">
  <h1 class="text-center text-slate-800 mb-8 text-3xl font-bold">Zaplanuj swojÄ… podrÃ³Å¼</h1>

  <form
    [formGroup]="form"
    (ngSubmit)="searchRoute()"
    class="bg-slate-50 p-6 rounded-xl shadow-sm mb-8"
  >
    <div class="grid gap-5 md:grid-cols-2">
      <app-stop-select-control-component
        formControlName="startStopCode"
        label="Przystanek poczÄ…tkowy:"
        placeholder="Wybierz przystanek poczÄ…tkowy"
      />
      <app-stop-select-control-component
        formControlName="endStopCode"
        label="Przystanek koÅ„cowy:"
        placeholder="Wybierz przystanek koÅ„cowy"
      />
    </div>

    <button
      type="submit"
      class="mt-5 w-full inline-flex items-center justify-center px-4 py-3 rounded-md text-white font-semibold bg-sky-600 hover:bg-sky-700 transition disabled:opacity-50"
      [disabled]="form.invalid"
    >
      Szukaj trasy
    </button>
  </form>

  @if (mainRoute()) {
  <div class="flex flex-col gap-6">
    <app-route-view-component
      [route]="mainRoute()!"
      title="ğŸ“ Trasa gÅ‚Ã³wna"
      accent="emerald-600"
      [getLineColor]="getLineColor"
    />
    @if (alternativeRoute()) {
    <section class="mt-2">
      <button
        (click)="toggleAlternative()"
        class="w-full text-left px-4 py-3 rounded-md font-semibold text-white bg-amber-500 hover:bg-amber-600 transition"
      >
        {{ showAlternative() ? 'â–¼' : 'â–¶' }} PokaÅ¼ trasÄ™ alternatywnÄ… (w przypadku opÃ³Åºnienia)
      </button>

      @if (showAlternative()) {
      <app-route-view-component
        class="mt-4"
        [route]="alternativeRoute()!"
        title="ğŸ”€ Trasa alternatywna"
        accent="amber-500"
        [getLineColor]="getLineColor"
      />
      }
    </section>
    }
  </div>
  } @else {
  <div class="text-center p-16 text-slate-500 text-base bg-slate-50 rounded-xl">
    <p>Wybierz przystanki i kliknij â€Szukaj trasyâ€.</p>
  </div>
  }
</div>
